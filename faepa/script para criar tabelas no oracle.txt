CREATE TABLE  "AGENDA_PACIENTE" 
   (	"SEQ_VAGAS" NUMBER, 
	"COD_TIPO_CONSULTA" NUMBER NOT NULL ENABLE, 
	"COD_ESPECIALIDADE" NUMBER NOT NULL ENABLE, 
	"COD_PACIENTE" CHAR(8) NOT NULL ENABLE, 
	"DTA_HOR_CONSULTA" DATE NOT NULL ENABLE, 
	"IDF_SITUACAO" NUMBER NOT NULL ENABLE, 
	"DTA_HOR_CADASTRO" DATE NOT NULL ENABLE, 
	"SEQ_AGENDA_CONSULTA" NUMBER NOT NULL ENABLE, 
	 CONSTRAINT "AGENDA_PACIENTE_PK" PRIMARY KEY ("SEQ_AGENDA_CONSULTA") ENABLE, 
	 CONSTRAINT "AGENDA_PACIENTE_FK" FOREIGN KEY ("SEQ_VAGAS")
	  REFERENCES  "VAGAS" ("SEQ_VAGAS") ENABLE, 
	 CONSTRAINT "AGENDA_PACIENTE_FK2" FOREIGN KEY ("COD_TIPO_CONSULTA")
	  REFERENCES  "TIPO_CONSULTA" ("COD_TIPO_CONSULTA") ENABLE, 
	 CONSTRAINT "AGENDA_PACIENTE_FK3" FOREIGN KEY ("COD_ESPECIALIDADE")
	  REFERENCES  "ESPECIALIDADE" ("COD_ESPECIALIDADE") ENABLE, 
	 CONSTRAINT "AGENDA_PACIENTE_FK4" FOREIGN KEY ("COD_PACIENTE")
	  REFERENCES  "PACIENTE" ("COD_PACIENTE") ENABLE
   )
/


CREATE OR REPLACE TRIGGER  "BI_AGENDA_PACIENTE" 
  before insert on "AGENDA_PACIENTE"               
  for each row  
begin   
    select "AGENDA_PACIENTE_SEQ".nextval into :NEW.SEQ_AGENDA_CONSULTA from dual; 
end; 

/
ALTER TRIGGER  "BI_AGENDA_PACIENTE" ENABLE
/















CREATE TABLE  "ESPECIALIDADE" 
   (	"COD_ESPECIALIDADE" NUMBER NOT NULL ENABLE, 
	"SQL_ESPECIALIDADE" VARCHAR2(4000) NOT NULL ENABLE, 
	"NOM_ESPECIALIDADE" VARCHAR2(4000) NOT NULL ENABLE, 
	 CONSTRAINT "ESPECIALIDADE_PK" PRIMARY KEY ("COD_ESPECIALIDADE") ENABLE
   )
/


CREATE OR REPLACE TRIGGER  "BI_ESPECIALIDADE" 
  before insert on "ESPECIALIDADE"               
  for each row  
begin   
    select "ESPECIALIDADE_SEQ".nextval into :NEW.COD_ESPECIALIDADE from dual; 
end; 

/
ALTER TRIGGER  "BI_ESPECIALIDADE" ENABLE
/










CREATE TABLE  "PACIENTE" 
   (	"NOM_PACIENTE" VARCHAR2(4000) NOT NULL ENABLE, 
	"SBN_PACIENTE" VARCHAR2(4000) NOT NULL ENABLE, 
	"IDF_SEXO" VARCHAR2(4000) NOT NULL ENABLE, 
	"DTA_NASCIMENTO" DATE NOT NULL ENABLE, 
	"NOM_PAI" VARCHAR2(4000) NOT NULL ENABLE, 
	"NOM_MAE" VARCHAR2(4000), 
	"DSC_SENHA" VARCHAR2(4000) NOT NULL ENABLE, 
	"COD_PACIENTE" CHAR(8) NOT NULL ENABLE, 
	 CONSTRAINT "PACIENTE_PK" PRIMARY KEY ("COD_PACIENTE") ENABLE
   )
/


CREATE OR REPLACE TRIGGER  "BI_PACIENTE" 
  before insert on "PACIENTE"               
  for each row  
begin   
    select "PACIENTE_SEQ".nextval into :NEW.COD_PACIENTE from dual; 
end; 

/
ALTER TRIGGER  "BI_PACIENTE" ENABLE
/










CREATE TABLE  "TIPO_CONSULTA" 
   (	"COD_TIPO_CONSULTA" NUMBER NOT NULL ENABLE, 
	"NOM_TIPO_CONSULTA" VARCHAR2(4000) NOT NULL ENABLE, 
	"IDF_ATIVO" VARCHAR2(4000) NOT NULL ENABLE, 
	 CONSTRAINT "TIPO_CONSULTA_PK" PRIMARY KEY ("COD_TIPO_CONSULTA") ENABLE
   )
/


CREATE OR REPLACE TRIGGER  "BI_TIPO_CONSULTA" 
  before insert on "TIPO_CONSULTA"               
  for each row  
begin   
    select "TIPO_CONSULTA_SEQ".nextval into :NEW.COD_TIPO_CONSULTA from dual; 
end; 

/
ALTER TRIGGER  "BI_TIPO_CONSULTA" ENABLE
/











CREATE TABLE  "VAGAS" 
   (	"SEQ_VAGAS" NUMBER NOT NULL ENABLE, 
	"COD_ESPECIALIDADE" NUMBER NOT NULL ENABLE, 
	"DTA_VIGENCIA_INICIAL" DATE NOT NULL ENABLE, 
	"DTA_VIGENCIA_FINAL" DATE NOT NULL ENABLE, 
	"HOR_ATENDIMENTO" VARCHAR2(4000) NOT NULL ENABLE, 
	"QTD_VAGAS" NUMBER, 
	"IDF_DIA_SEMANA" NUMBER, 
	 CONSTRAINT "VAGAS_PK" PRIMARY KEY ("SEQ_VAGAS") ENABLE, 
	 CONSTRAINT "COD_ESPECIALIDADE" FOREIGN KEY ("COD_ESPECIALIDADE")
	  REFERENCES  "ESPECIALIDADE" ("COD_ESPECIALIDADE") ENABLE
   )
/


CREATE OR REPLACE TRIGGER  "BI_VAGAS" 
  before insert on "VAGAS"               
  for each row  
begin   
    select "VAGAS_SEQ".nextval into :NEW.SEQ_VAGAS from dual; 
end; 

/
ALTER TRIGGER  "BI_VAGAS" ENABLE
/


